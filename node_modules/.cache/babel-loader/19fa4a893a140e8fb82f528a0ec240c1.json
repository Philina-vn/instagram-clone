{"ast":null,"code":"var _jsxFileName = \"/Users/filina/Desktop/instagram-clone/src/components/Context/GlobalContext.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Context = /*#__PURE__*/React.createContext({});\nconst Provider = Context.Provider;\nconst Consumer = Context.Consumer;\n\nconst GlobalContext = ({\n  children\n}) => {\n  _s();\n\n  // const [likedPosts, setLikedPosts] = useState([\n  //     { \n  //         username: \"philin.nguyen\",\n  //         caption: \"please work\",\n  //         imageUrl: \"https://www.onlinekittencare.com/wp-content/uploads/2020/07/vChK6pTy3vN3KbYZ7UU7k3-1200-80.jpg\",\n  //         like: true,\n  //       },\n  // ])\n  const [posts, setPosts] = useState([{\n    id: \"8137\",\n    username: \"philin.nguyen\",\n    ueserAvatar: 'https://scontent-waw1-1.cdninstagram.com/v/t51.2885-19/s320x320/131463823_683091529042013_7715560538458632465_n.jpg?tp=1&_nc_ht=scontent-waw1-1.cdninstagram.com&_nc_ohc=nUq7TPe2Jd4AX_4KAj3&ccb=7-4&oh=011a632d6d2bd441ef13a58f403b1fc9&oe=607F6298',\n    caption: \"111111111111\",\n    imageUrl: \"https://www.onlinekittencare.com/wp-content/uploads/2020/07/vChK6pTy3vN3KbYZ7UU7k3-1200-80.jpg\",\n    like: true,\n    comment: [{\n      id: 1,\n      user: 'philin.nguyen',\n      text: 'loerem lorem'\n    }]\n  }, {\n    id: \"1312\",\n    username: \"philin.nguyen\",\n    ueserAvatar: 'https://scontent-waw1-1.cdninstagram.com/v/t51.2885-19/s320x320/131463823_683091529042013_7715560538458632465_n.jpg?tp=1&_nc_ht=scontent-waw1-1.cdninstagram.com&_nc_ohc=nUq7TPe2Jd4AX_4KAj3&ccb=7-4&oh=011a632d6d2bd441ef13a58f403b1fc9&oe=607F6298',\n    caption: \"222222222222222\",\n    imageUrl: \"https://www.onlinekittencare.com/wp-content/uploads/2020/07/vChK6pTy3vN3KbYZ7UU7k3-1200-80.jpg\",\n    like: false,\n    comment: []\n  }]);\n  const getPost = useCallback(async () => {\n    const post = JSON.parse(localStorage.getItem('posts') || []);\n    setPosts(post);\n  }, []);\n  useEffect(() => {\n    getPost();\n  }, []);\n  useEffect(() => {\n    localStorage.setItem('posts', JSON.stringify(posts));\n  }, [posts]);\n\n  function createComment(selectedPost, text) {\n    const newCommnet = {\n      id: uuidv4(),\n      text: text,\n      user: 'philin.nguyen'\n    };\n    const prevState = [...posts];\n    prevState.forEach(post => {\n      return selectedPost === post ? post.comment = [...post.comment, newCommnet] : null;\n    });\n    setPosts([...prevState]);\n  }\n\n  ;\n\n  function delitePost(post) {\n    setPosts(posts.filter(item => item !== post));\n  }\n\n  function createPost(post) {\n    const newPost = {\n      username: \"philin\",\n      caption: post.caption,\n      imageUrl: post.imageUrl,\n      ueserAvatar: 'https://scontent-waw1-1.cdninstagram.com/v/t51.2885-19/s320x320/131463823_683091529042013_7715560538458632465_n.jpg?tp=1&_nc_ht=scontent-waw1-1.cdninstagram.com&_nc_ohc=nUq7TPe2Jd4AX_4KAj3&ccb=7-4&oh=011a632d6d2bd441ef13a58f403b1fc9&oe=607F6298',\n      like: false,\n      comment: []\n    };\n    setPosts([...posts, newPost]);\n  }\n\n  const onLike = selectedPost => {\n    const prevState = [...posts];\n    prevState.forEach(post => {\n      return selectedPost === post ? post.like = !post.like : null;\n    });\n    setPosts([...prevState]);\n  };\n\n  const [currentPost, seTcurrentPost] = useState();\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = post => {\n    seTcurrentPost(post);\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const state = {\n    posts,\n    setPosts,\n    createPost,\n    onLike,\n    open,\n    setOpen,\n    handleOpen,\n    handleClose,\n    currentPost,\n    seTcurrentPost,\n    createComment,\n    delitePost\n  };\n  return /*#__PURE__*/_jsxDEV(Provider, {\n    value: state,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 9\n  }, this);\n};\n\n_s(GlobalContext, \"E4jnOr0JNIQOGavY1C2PtiipeWU=\");\n\n_c = GlobalContext;\nexport default GlobalContext;\n\nvar _c;\n\n$RefreshReg$(_c, \"GlobalContext\");","map":{"version":3,"sources":["/Users/filina/Desktop/instagram-clone/src/components/Context/GlobalContext.jsx"],"names":["React","useState","useEffect","useCallback","v4","uuidv4","Context","createContext","Provider","Consumer","GlobalContext","children","posts","setPosts","id","username","ueserAvatar","caption","imageUrl","like","comment","user","text","getPost","post","JSON","parse","localStorage","getItem","setItem","stringify","createComment","selectedPost","newCommnet","prevState","forEach","delitePost","filter","item","createPost","newPost","onLike","currentPost","seTcurrentPost","open","setOpen","handleOpen","handleClose","state"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nexport const Context = React.createContext({});\r\n\r\nconst Provider = Context.Provider;\r\nconst Consumer = Context.Consumer;\r\n\r\n\r\nconst GlobalContext = ({ children }) => {\r\n    // const [likedPosts, setLikedPosts] = useState([\r\n    //     { \r\n    //         username: \"philin.nguyen\",\r\n    //         caption: \"please work\",\r\n    //         imageUrl: \"https://www.onlinekittencare.com/wp-content/uploads/2020/07/vChK6pTy3vN3KbYZ7UU7k3-1200-80.jpg\",\r\n    //         like: true,\r\n    //       },\r\n    // ])\r\n    \r\n\r\n    const [posts, setPosts] = useState([\r\n        { \r\n            id: \"8137\",\r\n            username: \"philin.nguyen\",\r\n            ueserAvatar: 'https://scontent-waw1-1.cdninstagram.com/v/t51.2885-19/s320x320/131463823_683091529042013_7715560538458632465_n.jpg?tp=1&_nc_ht=scontent-waw1-1.cdninstagram.com&_nc_ohc=nUq7TPe2Jd4AX_4KAj3&ccb=7-4&oh=011a632d6d2bd441ef13a58f403b1fc9&oe=607F6298',\r\n            caption: \"111111111111\",\r\n            imageUrl: \"https://www.onlinekittencare.com/wp-content/uploads/2020/07/vChK6pTy3vN3KbYZ7UU7k3-1200-80.jpg\",\r\n            like: true,\r\n            comment: [\r\n                {\r\n                    id: 1,\r\n                    user: 'philin.nguyen',\r\n                    text: 'loerem lorem'\r\n                }\r\n            ],\r\n        },\r\n        {\r\n            id: \"1312\",\r\n            username: \"philin.nguyen\",\r\n            ueserAvatar: 'https://scontent-waw1-1.cdninstagram.com/v/t51.2885-19/s320x320/131463823_683091529042013_7715560538458632465_n.jpg?tp=1&_nc_ht=scontent-waw1-1.cdninstagram.com&_nc_ohc=nUq7TPe2Jd4AX_4KAj3&ccb=7-4&oh=011a632d6d2bd441ef13a58f403b1fc9&oe=607F6298',\r\n            caption: \"222222222222222\",\r\n            imageUrl: \"https://www.onlinekittencare.com/wp-content/uploads/2020/07/vChK6pTy3vN3KbYZ7UU7k3-1200-80.jpg\",\r\n            like: false,\r\n            comment: [],\r\n        },\r\n    ]);\r\n    \r\n    const getPost = useCallback(async () => {\r\n\t\tconst post = JSON.parse(localStorage.getItem('posts') || [])\r\n\t\tsetPosts(post);\r\n\t }, []);\r\n\r\n\tuseEffect(() => {\r\n        getPost();\r\n    }, []);\r\n\t\r\n\t\r\n\tuseEffect(() => {\r\n\t\tlocalStorage.setItem('posts', JSON.stringify(posts))\r\n\t},[posts])\r\n\t\r\n\r\n\r\n    function createComment(selectedPost, text) {  \r\n\r\n        const newCommnet = {\r\n            id: uuidv4(),\r\n            text: text,\r\n            user: 'philin.nguyen'\r\n        }\r\n        \r\n        const prevState = [...posts]\r\n        \r\n        \r\n        prevState.forEach(post => {\r\n            return selectedPost === post ? post.comment = [ ...post.comment, newCommnet] : null\r\n        })\r\n        setPosts([...prevState])       \r\n    }; \r\n\r\n\r\n\r\n    function delitePost(post) {\r\n        setPosts(posts.filter(item => item !== post))   \r\n    }\r\n\r\n    function createPost(post) {\r\n        const newPost = {\r\n          username: \"philin\",\r\n          caption: post.caption,\r\n          imageUrl: post.imageUrl,\r\n          ueserAvatar: 'https://scontent-waw1-1.cdninstagram.com/v/t51.2885-19/s320x320/131463823_683091529042013_7715560538458632465_n.jpg?tp=1&_nc_ht=scontent-waw1-1.cdninstagram.com&_nc_ohc=nUq7TPe2Jd4AX_4KAj3&ccb=7-4&oh=011a632d6d2bd441ef13a58f403b1fc9&oe=607F6298',\r\n          like: false,\r\n          comment: [],  \r\n        }\r\n        setPosts([...posts, newPost])\r\n    }\r\n    \r\n    const onLike = (selectedPost) => {\r\n      \r\n        \r\n        const prevState = [...posts]\r\n        prevState.forEach(post => {\r\n            return selectedPost === post ? post.like = !post.like : null\r\n        })\r\n        setPosts([...prevState])    \r\n    }; \r\n\r\n    const [currentPost,seTcurrentPost] = useState()\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const handleOpen = (post) => {\r\n        seTcurrentPost(post)\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const state = {\r\n        posts,\r\n        setPosts,\r\n        createPost,\r\n        onLike,\r\n        open, setOpen, handleOpen, handleClose, \r\n        currentPost, seTcurrentPost,\r\n        createComment,\r\n        delitePost,\r\n    }\r\n\r\n    return (\r\n        <Provider value={state}>\r\n            {children}\r\n        </Provider>\r\n    );\r\n};\r\n\r\nexport default GlobalContext;\r\n"]},"metadata":{},"sourceType":"module"}